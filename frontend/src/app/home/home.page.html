<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>
      Home
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <input type="file" value="Click" (change)="onFileSelected($event)" />
  <p *ngIf="!checkFile">Carica il file</p>
  <br />
  <ion-button type="submit" (click)="onUpload()">submit</ion-button>
  <ion-button type="submit" (click)="signal()">signal</ion-button>
  <br />
  <div *ngIf="checkFile">
    <ion-item>
      <ion-label>Seleziona Canale</ion-label>
      <ion-select [(ngModel)]="selectChannel">
        <ion-select-option
          *ngFor="let channel of Channels"
          value="{{ channel }}"
          >{{ channel }}</ion-select-option
        >
      </ion-select>
    </ion-item>
    <ion-item>
      <ion-input
        type="number"
        [(ngModel)]="selectStart"
        placeholder="Start Number"
      ></ion-input>
    </ion-item>
    <ion-item>
      <ion-input
        type="number"
        [(ngModel)]="selectNumberSignal"
        placeholder="Number of Signal"
      ></ion-input>
    </ion-item>
    <ion-button
      *ngIf="
        selectChannel != undefined &&
        selectStart < 921599 &&
        selectStart != undefined &&
        selectNumberSignal != undefined &&
        selectNumberSignal <= 7681
      "
      type="submit"
      (click)="draw()"
      >Draw</ion-button
    >
    <p
      *ngIf="selectStart > 921599 || selectNumberSignal > 7680"
      style="color:crimson"
    >
      Parametri non corretti
    </p>
    <div
      *ngIf="checkButton && selectStart < 921599 && selectNumberSignal <= 7680"
    >
      <ion-card padding>
        <app-chart *ngIf="signals" [signals]="signals"></app-chart>
      </ion-card>
      <ion-card padding *ngIf="Statistics">
        <h5>Statistics</h5>
        <p>Minimun Value: {{ Statistics.min }}</p>
        <p>Maximum Value: {{ Statistics.max }}</p>
        <p>Average: {{ Statistics.average }}</p>
        <p>Variance: {{ Statistics.var }}</p>
        <p>Standard Deviation: {{ Statistics.stdev }}</p>
      </ion-card>
      <ion-card padding>
        <h5>BARCHART</h5>
        <div *ngIf="distribution">
          <app-chart
            [signals]="signals"
            [distribution]="distribution"
          ></app-chart>
        </div>
      </ion-card>
    </div>
  </div>
</ion-content>
